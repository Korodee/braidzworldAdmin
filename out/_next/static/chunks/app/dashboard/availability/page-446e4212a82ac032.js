(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[181],{2431:(e,s,t)=>{Promise.resolve().then(t.bind(t,5723))},5723:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>b});var a=t(5155),l=t(2115),r=t(5370),i=t(1880),n=t(8630);function d(e,s,t){let a=(0,i.a)(e,null==t?void 0:t.in);if(isNaN(s))return(0,n.w)((null==t?void 0:t.in)||e,NaN);if(!s)return a;let l=a.getDate(),r=(0,n.w)((null==t?void 0:t.in)||e,a.getTime());return(r.setMonth(a.getMonth()+s+1,0),l>=r.getDate())?r:(a.setFullYear(r.getFullYear(),r.getMonth(),l),a)}var c=t(4455),o=t(2274),x=t(111),m=t(2327),h=t(113),g=t(2888),u=t(4138);function b(){let[e,s]=(0,l.useState)(new Date),[t,b]=(0,l.useState)(null),[y,p]=(0,l.useState)([]),[j,N]=(0,l.useState)(!1),[f,v]=(0,l.useState)(""),[w,k]=(0,l.useState)(""),[S,M]=(0,l.useState)(!1),[T,C]=(0,l.useState)(!1),[D,F]=(0,l.useState)(!1),[G,P]=(0,l.useState)(null),[B,I]=(0,l.useState)(!0),[O,E]=(0,l.useState)(null),_=Array.from({length:20},(e,s)=>{let t=Math.floor(s/2)+9;return"".concat(t.toString().padStart(2,"0"),":").concat((s%2*30).toString().padStart(2,"0"))}),A=(0,r.k)(function(e,s){let t=(0,i.a)(e,void 0);return t.setDate(1),t.setHours(0,0,0,0),t}(e));(0,l.useEffect)(()=>{let e=localStorage.getItem("blockedTimes");if(e)try{p(JSON.parse(e))}catch(e){console.error("Error parsing saved blocked times:",e)}I(!1)},[]),(0,l.useEffect)(()=>{B||localStorage.setItem("blockedTimes",JSON.stringify(y))},[y,B]),(0,l.useEffect)(()=>{if(O){let e=setTimeout(()=>{E(null)},3e3);return()=>clearTimeout(e)}},[O]);let H=function(e){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"success";E({message:e,type:s})},z=e=>{b(e),N(!0)},R=e=>y.some(s=>s.date===e),Y=(e,s)=>y.some(t=>t.date===e&&t.time===s),J=e=>{P(e),F(!0)};return(0,a.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-gray-100",children:[O&&(0,a.jsx)("div",{className:"fixed top-4 right-4 z-50 p-4 rounded-lg shadow-lg ".concat("success"===O.type?"bg-green-500 text-white":"bg-red-500 text-white"),children:(0,a.jsxs)("div",{className:"flex items-center",children:["success"===O.type?(0,a.jsx)(g.YrT,{className:"mr-2"}):(0,a.jsx)(g.y3G,{className:"mr-2"}),(0,a.jsx)("span",{children:O.message})]})}),(0,a.jsxs)("div",{className:"bg-white m-4 rounded-2xl shadow-lg overflow-hidden mb-4 relative",children:[(0,a.jsx)("div",{className:"absolute inset-0 opacity-[0.02]",style:{backgroundImage:"radial-gradient(circle at 1px 1px, rgb(0 0 0) 1px, transparent 0)",backgroundSize:"20px 20px"}}),(0,a.jsx)("div",{className:"absolute inset-0 bg-gradient-to-br from-white via-gray-50/50 to-white pointer-events-none"}),(0,a.jsx)("div",{className:"p-6 border-b border-gray-100 relative",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{className:"text-2xl font-bold text-gray-900",children:"Calendar"}),(0,a.jsx)("p",{className:"text-gray-600 mt-1",children:"Select dates to block specific times or entire days"})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)("button",{onClick:()=>s(d(e,-1,void 0)),className:"p-2 hover:bg-white/80 rounded-lg transition-colors text-gray-700","aria-label":"Previous month",children:(0,a.jsx)(g.irw,{className:"w-5 h-5"})}),(0,a.jsx)("span",{className:"text-lg font-medium px-4 text-gray-900",children:(0,c.GP)(e,"MMMM yyyy")}),(0,a.jsx)("button",{onClick:()=>s(d(e,1)),className:"p-2 hover:bg-white/80 rounded-lg transition-colors text-gray-700","aria-label":"Next month",children:(0,a.jsx)(g.fOo,{className:"w-5 h-5"})})]}),(0,a.jsx)("button",{onClick:()=>{C(!0),setTimeout(()=>{console.log("Saving blocked times:",y),C(!1),H("Availability settings saved successfully!")},1e3)},disabled:T,className:"flex items-center gap-2 bg-black text-white px-4 py-2 rounded-lg hover:bg-gray-800 transition-colors disabled:opacity-50 disabled:cursor-not-allowed shadow-sm",children:T?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"animate-spin rounded-full h-5 w-5 border-t-2 border-b-2 border-white"}),(0,a.jsx)("span",{children:"Saving..."})]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(g.Bc_,{}),"Save Availability"]})})]})]})}),(0,a.jsxs)("div",{className:"p-6 relative",children:[(0,a.jsx)("div",{className:"grid grid-cols-7 gap-2 mb-4",children:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"].map(e=>(0,a.jsx)("div",{className:"text-center text-gray-600 font-medium",children:e},e))}),(0,a.jsx)("div",{className:"grid grid-cols-7 gap-2",children:Array.from({length:42}).map((s,l)=>{let r=function(e,s,t){let a=(0,i.a)(e,void 0);return isNaN(s)?(0,n.w)(e,NaN):(s&&a.setDate(a.getDate()+s),a)}(A,l),d=(0,c.GP)(r,"yyyy-MM-dd"),h=R(d),u=(0,o.Y)(r,new Date);return(0,a.jsxs)("button",{onClick:()=>!u&&z(d),disabled:u,className:"\n                    p-3 rounded-lg text-center transition-all relative overflow-hidden\n                    ".concat((0,x.t)(r,e)?"text-gray-800":"text-gray-300","\n                    ").concat((0,m.c)(r)?"bg-black text-white":"","\n                    ").concat(h?"bg-rose-100 text-rose-700":"hover:bg-white/80","\n                    ").concat(t===d?"ring-2 ring-black":"","\n                    ").concat(u?"opacity-50 cursor-not-allowed":"","\n                    shadow-sm\n                  "),children:[(0,c.GP)(r,"d"),h&&(0,a.jsx)("div",{className:"mt-1 text-xs",children:(0,a.jsx)(g.y3G,{className:"inline-block w-3 h-3"})})]},d)})})]})]}),(0,a.jsxs)("div",{className:"bg-white m-4 rounded-2xl shadow-lg overflow-hidden",children:[(0,a.jsxs)("div",{className:"p-6 border-b border-gray-100",children:[(0,a.jsx)("h2",{className:"text-2xl font-bold text-gray-900",children:"Blocked Times"}),(0,a.jsx)("p",{className:"text-gray-600 mt-1",children:"Manage your blocked dates and times"})]}),(0,a.jsx)("div",{className:"p-6",children:B?(0,a.jsx)("div",{className:"flex justify-center items-center py-12",children:(0,a.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-black"})}):0===y.length?(0,a.jsxs)("div",{className:"text-center py-12",children:[(0,a.jsx)(g.wIk,{className:"mx-auto h-12 w-12 text-gray-300 mb-4"}),(0,a.jsx)("p",{className:"text-gray-600 mb-2",children:"No blocked times yet"}),(0,a.jsx)("p",{className:"text-gray-500 text-sm",children:"Select a date from the calendar to block specific times"})]}):(0,a.jsx)("div",{className:"overflow-x-auto",children:(0,a.jsxs)("table",{className:"min-w-full",children:[(0,a.jsx)("thead",{children:(0,a.jsxs)("tr",{className:"border-b border-gray-200",children:[(0,a.jsx)("th",{className:"text-left py-3 px-4 text-gray-800 font-semibold",children:"Date"}),(0,a.jsx)("th",{className:"text-left py-3 px-4 text-gray-800 font-semibold",children:"Time"}),(0,a.jsx)("th",{className:"text-left py-3 px-4 text-gray-800 font-semibold",children:"Reason"}),(0,a.jsx)("th",{className:"text-right py-3 px-4 text-gray-800 font-semibold",children:"Actions"})]})}),(0,a.jsx)("tbody",{children:y.sort((e,s)=>new Date(e.date).getTime()-new Date(s.date).getTime()).map(e=>(0,a.jsxs)("tr",{className:"border-b border-gray-100 hover:bg-gray-50 transition-colors",children:[(0,a.jsx)("td",{className:"py-3 px-4 text-gray-900",children:(0,c.GP)((0,h.H)(e.date),"MMM d, yyyy")}),(0,a.jsx)("td",{className:"py-3 px-4 text-gray-900",children:(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[e.isFullDay?(0,a.jsx)(g.wIk,{className:"w-4 h-4"}):(0,a.jsx)(g.Ohp,{className:"w-4 h-4"}),e.time]})}),(0,a.jsx)("td",{className:"py-3 px-4 text-gray-800",children:e.reason}),(0,a.jsx)("td",{className:"py-3 px-4 text-right",children:(0,a.jsx)("button",{onClick:()=>J(e),className:"p-2 hover:bg-red-100 rounded-lg transition-colors text-red-500","aria-label":"Remove blocked time",children:(0,a.jsx)(g.IXo,{className:"w-5 h-5"})})})]},e.id))})]})})})]}),(0,a.jsxs)(u.lG,{open:j,onClose:()=>N(!1),className:"relative z-50",children:[(0,a.jsx)("div",{className:"fixed inset-0 bg-black/30 backdrop-blur-sm","aria-hidden":"true"}),(0,a.jsx)("div",{className:"fixed inset-0 flex items-center justify-center p-4",children:(0,a.jsxs)(u.lG.Panel,{className:"mx-auto max-w-md rounded-2xl bg-white p-6 shadow-xl w-full",children:[(0,a.jsxs)(u.lG.Title,{className:"text-lg font-medium text-gray-900 mb-4",children:["Block Time for"," ",t?(0,c.GP)((0,h.H)(t),"MMMM d, yyyy"):""]}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-4",children:[(0,a.jsx)("input",{type:"checkbox",id:"fullDay",checked:S,onChange:e=>M(e.target.checked),className:"rounded border-gray-300 text-black focus:ring-black"}),(0,a.jsx)("label",{htmlFor:"fullDay",className:"text-sm font-medium text-gray-800",children:"Block entire day"})]}),!S&&(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"time",className:"block text-sm font-medium text-gray-800 mb-1",children:"Select Time"}),(0,a.jsxs)("select",{id:"time",value:f,onChange:e=>v(e.target.value),className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:ring-black focus:border-black text-gray-900",children:[(0,a.jsx)("option",{value:"",children:"Select a time"}),_.map(e=>(0,a.jsx)("option",{value:e,disabled:Y(t||"",e),children:e},e))]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"reason",className:"block text-sm font-medium text-gray-800 mb-1",children:"Reason (Optional)"}),(0,a.jsx)("input",{type:"text",id:"reason",value:w,onChange:e=>k(e.target.value),className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:ring-black focus:border-black text-gray-900",placeholder:"e.g., Staff training, Holiday"})]}),(0,a.jsxs)("div",{className:"flex justify-end gap-3 mt-6",children:[(0,a.jsx)("button",{onClick:()=>N(!1),className:"px-4 py-2 text-gray-700 hover:text-gray-900",children:"Cancel"}),(0,a.jsx)("button",{onClick:()=>{t&&(p([...y,{id:"".concat(t,"-").concat(S?"full-day":f),date:t,time:S?"Full Day":f,reason:w||"No reason provided",isFullDay:S}]),v(""),k(""),M(!1),N(!1),H("Time blocked successfully"))},disabled:!S&&!f,className:"px-4 py-2 bg-black text-white rounded-md hover:bg-gray-800 disabled:bg-gray-300 disabled:cursor-not-allowed flex items-center gap-2",children:T?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"animate-spin rounded-full h-5 w-5 border-t-2 border-b-2 border-white"}),(0,a.jsx)("span",{children:"Blocking..."})]}):"Block Time"})]})]})]})})]}),(0,a.jsxs)(u.lG,{open:D,onClose:()=>F(!1),className:"relative z-50",children:[(0,a.jsx)("div",{className:"fixed inset-0 bg-black/30 backdrop-blur-sm","aria-hidden":"true"}),(0,a.jsx)("div",{className:"fixed inset-0 flex items-center justify-center p-4",children:(0,a.jsxs)(u.lG.Panel,{className:"mx-auto max-w-md rounded-2xl bg-white p-6 shadow-xl w-full",children:[(0,a.jsx)(u.lG.Title,{className:"text-lg font-medium text-gray-900 mb-4",children:"Delete Blocked Time"}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsx)("p",{className:"text-gray-800",children:"Are you sure you want to delete this blocked time?"}),G&&(0,a.jsxs)("div",{className:"bg-gray-50 p-4 rounded-lg",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,a.jsx)(g.wIk,{className:"w-5 h-5 text-gray-600"}),(0,a.jsx)("span",{className:"font-medium text-gray-900",children:(0,c.GP)((0,h.H)(G.date),"MMMM d, yyyy")})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,a.jsx)(g.Ohp,{className:"w-5 h-5 text-gray-600"}),(0,a.jsx)("span",{className:"text-gray-900",children:G.time})]}),G.reason&&(0,a.jsxs)("div",{className:"text-gray-700 text-sm",children:[(0,a.jsx)("span",{className:"font-medium",children:"Reason:"})," ",G.reason]})]}),(0,a.jsxs)("div",{className:"flex justify-end gap-3 mt-6",children:[(0,a.jsx)("button",{onClick:()=>F(!1),className:"px-4 py-2 text-gray-700 hover:text-gray-900",children:"Cancel"}),(0,a.jsx)("button",{onClick:()=>{G&&(p(y.filter(e=>e.id!==G.id)),F(!1),P(null),H("Blocked time removed"))},className:"px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700 flex items-center gap-2",children:T?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"animate-spin rounded-full h-5 w-5 border-t-2 border-b-2 border-white"}),(0,a.jsx)("span",{children:"Deleting..."})]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(g.IXo,{className:"w-4 h-4"}),"Delete"]})})]})]})]})})]})]})}}},e=>{var s=s=>e(e.s=s);e.O(0,[844,138,455,450,441,517,358],()=>s(2431)),_N_E=e.O()}]);